<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Compound types &mdash; Targetscope API</title>
    
    <link rel="stylesheet" href="../_static/better.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     'v1.0.1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="https://c328740.ssl.cf1.rackcdn.com/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="top" title="Targetscope API" href="../index.html" />
    <link rel="up" title="2. Data" href="index.html" />
    <link rel="prev" title="2.1. Base types" href="base.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <link rel="stylesheet" href="../_static/custom_style.css" type="text/css" />
  </head>
  <body role="document">
    <header id="pageheader"><h1><a href="../index.html ">
        Targetscope API
    </a></h1></header>
  <div class="related top">
  <nav id="rellinks">
    <ul>
        <li>
          &larr;
          <a href="base.html" title="Previous document">2.1. Base types</a>
        </li>
    </ul>
  </nav>
  <nav id="breadcrumbs">
    <ul>
      <li><a href="../index.html">Home</a></li>
      <li>
        <a href="index.html">2. Data</a>
      </li> 
    </ul>
  </nav>
  </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="compound-types">
<span id="compound"></span><h1>Compound types<a class="headerlink" href="#compound-types" title="Permalink to this headline">¶</a></h1>
<div class="section" id="element">
<span id="compound-element"></span><h2>Element<a class="headerlink" href="#element" title="Permalink to this headline">¶</a></h2>
<table border="1" class="docutils">
<colgroup>
<col width="27%" />
<col width="73%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><strong>Data</strong></td>
<td><em>Range</em> (optional: 1 or more <em>Name</em>; 1 <em>Score</em>; 1
<em>Strand</em>, 1+ <em>Metadata</em>, 1+ <em>Set</em>)</td>
</tr>
<tr class="row-even"><td><strong>Examples</strong></td>
<td>Target gene promoter, gene annotation record, DHS
peak, transcription factor hit</td>
</tr>
</tbody>
</table>
<p>Operations can be applied on an <em>Element</em> or on a <em>Set</em> of <em>Elements</em>.</p>
<div class="topic">
<p class="topic-title first">Example 1</p>
<p>Here, we filter a set of transcription start sites for target gene <strong>RARA</strong>:</p>
<div class="highlight-python"><div class="highlight"><pre>$ grep -w RARA tss.bed
chr17   38465445  38465446      RARA    41      +
chr17   38474532  38474533      RARA    90      +
chr17   38474536  38474537      RARA    15      +
chr17   38497639  38497640      RARA    1       +
chr17   38498614  38498615      RARA    20      +
chr17   38501492  38501493      RARA    150     +
chr17   38507638  38507639      RARA    3       +
</pre></div>
</div>
<p>Therefore, the set of <strong>RARA</strong> transcription start sites is on chromosome 17, with the Ranges of <code class="docutils literal"><span class="pre">[38465445,</span> <span class="pre">38465446)</span></code>, <code class="docutils literal"><span class="pre">[38474532,</span> <span class="pre">38474533)</span></code>, <em>etc.</em> The <em>Name</em> value is <strong>RARA</strong>. The <em>Scores</em> are varied. The <em>Strand</em> value of each is <code class="docutils literal"><span class="pre">+</span></code>. Each of these makes up an <em>Element</em>.</p>
</div>
<div class="topic">
<p class="topic-title first">Example 2</p>
<p>Here we show an example of some transcription factor binding sites, each an <em>Element</em>, also on chromosome 17:</p>
<div class="highlight-python"><div class="highlight"><pre>$ unstarch chr19 fimo.combined.xfac.1e-5.parsed.starch | more
chr17   2      23       -V_NRSF_01          5.89317e-06     -       TGCAGGAACAGGGTGAGAAGC
chr17   27     42       -V_OCT4_02          5.78775e-06     -       ATTGTCATGCAATTA
chr17   125    141      -V_TAL1BETAE47_01   4.13235e-06     -       CTGGACAGATGTTTGT
chr17   125    141      -V_TAL1BETAITF2_01  9.97644e-06     -       CTGGACAGATGTTTGT
chr17   126    138      +V_RP58_01          5.58617e-06     +       CAAACATCTGTC...
</pre></div>
</div>
<p>The fourth column of this file is the TRANSFAC name of the transcription factor (TRANSFAC is the name of a database of transcription factors — there are other databases; <em>e.g.</em>, Jaspar and UniPROBE). Note here that the start character of the ID field matches the strand field on which the factor is located, and that the seventh column contains the reference sequence at that range.</p>
</div>
</div>
<div class="section" id="interaction">
<span id="compound-interaction"></span><h2>Interaction<a class="headerlink" href="#interaction" title="Permalink to this headline">¶</a></h2>
<table border="1" class="docutils">
<colgroup>
<col width="27%" />
<col width="73%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><strong>Data</strong></td>
<td>2 <em>Elements</em>; 1 <em>Score</em>; 1 <em>Name</em>; 1 <em>Strand</em>;
optional, 1+ <em>Metadata</em></td>
</tr>
<tr class="row-even"><td><strong>Example</strong></td>
<td>Long-range interaction</td>
</tr>
</tbody>
</table>
<p>An interaction pair is a special <em>Set</em> that defines a connection between two <em>Element</em> values. For the <em>targetscope</em> application specifically, this can be a gene promoter <em>Element</em> and a distal DHS peak <em>Element</em>.</p>
<p>Operations can be applied on an interaction or on a grouping of interactions.</p>
<div class="topic">
<p class="topic-title first">Example</p>
<p>Here is an example of interactions centered around the gene <strong>RARA</strong>, in a BED format used for internal visualization. This is a special form of BED6, where the ID field contains a condensed form of the second pair of the interaction pairing, along with the interaction correlation score:</p>
<div class="highlight-python"><div class="highlight"><pre>$ more interactions.bed
chr17   38498520        38498670        chr17:38107440-38107590,0.731035        3525    -
chr17   38498520        38498670        chr17:38174060-38174210,0.727828        3541    -
chr17   38498520        38498670        chr17:38184060-38184210,0.707405        3543    -
chr17   38498520        38498670        chr17:38221800-38221950,0.763215        3545    -
chr17   38498520        38498670        chr17:38222220-38222370,0.773827        3547    -
...
</pre></div>
</div>
<p>The first three columns represent the genomic <a class="reference internal" href="base.html#base-range"><em>Range</em></a> of the gene promoter <em>Element</em>. The fourth column is a condensed string showing the DHS peak <em>Element</em> associated with that promoter, along with a correlation <a class="reference internal" href="base.html#base-score"><em>Score</em></a> for that interaction. The fifth column, usually a score field in a BED file, is used here as a replacement <a class="reference internal" href="base.html#base-name"><em>Name</em></a> for the pairing. The sixth column is the <a class="reference internal" href="base.html#base-strand"><em>Strand</em></a> of the promoter element.</p>
<p>To get a list of interactions associated with <strong>RARA</strong> promoters, we first filter on strand, and then use <em>bedmap</em> to map interactions to the <strong>RARA</strong> promoters:</p>
<div class="highlight-python"><div class="highlight"><pre>$ awk &#39;($6==&quot;+&quot;)&#39; interactions.bed &gt; interactions_forward.bed
$ grep -w RARA tss.bed | bedmap --echo --echo-map - interactions_forward.bed
chr17  38465445        38465446 RARA   41         +|
chr17  38474532        38474533 RARA   90         +|
chr17  38474536        38474537 RARA   15         +|
chr17  38497639        38497640 RARA   1          +|
chr17  38498614        38498615 RARA   20         +|chr17       38498520        38498670        chr17:38512520-38512670,0.782996        3657    +;chr17 38498520 38498670        chr17:38514200-38514350,0.726464        3659    +;chr17 38498520 38498670        chr17:38603540-38603690,0.732044        3709    +;chr17 38498520 38498670        chr17:38698620-38698770,0.71501 3739    +;chr17 38498520 38498670        chr17:38713300-38713450,0.782635        3743    +;chr17 38498520 38498670        chr17:38714500-38714650,0.702538        3745    +
...
</pre></div>
</div>
<p>The <strong>RARA</strong> transcription start site (TSS) element on <code class="docutils literal"><span class="pre">chr17</span></code> at range <code class="docutils literal"><span class="pre">[38498614,38498615)</span></code> has several interactions associated with it, on the basis of one or more bases of overlap between the TSS and the interaction&#8217;s promoter component.</p>
</div>
</div>
<div class="section" id="set">
<span id="compound-set"></span><h2>Set<a class="headerlink" href="#set" title="Permalink to this headline">¶</a></h2>
<table border="1" class="docutils">
<colgroup>
<col width="27%" />
<col width="73%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><strong>Data</strong></td>
<td>1+ <em>Name</em>; 0+ <em>Metadata</em>, 0+ <em>Elements</em>,
<em>Interactions</em> or <em>Sets</em></td>
</tr>
<tr class="row-even"><td><strong>Examples</strong></td>
<td>DHS peaks for a particular cell type or sequencing
experiment, promoters, transcription factor binding
sites, other sets</td>
</tr>
</tbody>
</table>
<p>Examples of <em>Sets</em> include the &#8220;target gene&#8221; (a set of promoter <em>Elements</em>) or groups of multiple interactions for a given promoter <em>Element</em>.</p>
<p>A <em>Set</em> could also be made up of base types, like a set of unique <a class="reference internal" href="base.html#base-name"><em>Name</em></a> values, etc.</p>
<p><em>Sets</em> could go by other descriptive names. An <em>Experiment</em> is one type of a set, which contains a specific type of <em>Element</em> values. A set of <em>Experiments</em> can be grouped into another set called a <em>Category</em>. For instance, one <em>Category</em> of cell types might be called &#8220;ectoderm&#8221;, which includes various cell line-specific <em>Experiments</em> with names like &#8220;BE2_C&#8221;, &#8220;HMEC&#8221;, &#8220;Hela&#8221;, etc. In turn, each of those <em>Experiments</em> contains DHS peaks that are specific to that cell line.</p>
<p>A <em>Category</em> could group other categories. For example, a category called &#8220;karyotype&#8221; could contain three subcategories called &#8220;cancer&#8221;, &#8220;normal&#8221; and &#8220;unassigned&#8221;. Each of the three subcategories could contain cell-line specific <em>Experiments</em> that contain data for cancerous cell lines, normal cell lines, and cell lines unassigned to the cancerous or normal subsets.</p>
<p>Some operations can be applied on a <em>Set</em>, depending on what features the set offers or exposes.</p>
</div>
<div class="section" id="array">
<span id="compound-array"></span><h2>Array<a class="headerlink" href="#array" title="Permalink to this headline">¶</a></h2>
<table border="1" class="docutils">
<colgroup>
<col width="27%" />
<col width="73%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><strong>Data</strong></td>
<td>1+ <em>Name</em>; 0+ base types</td>
</tr>
</tbody>
</table>
<p>Examples of <em>Arrays</em> are ordered lists of base types (<a class="reference internal" href="base.html#base-score"><em>Score</em></a>, <a class="reference internal" href="base.html#base-name"><em>Name</em></a>, <a class="reference internal" href="base.html#base-strand"><em>Strand</em></a>, <a class="reference internal" href="base.html#base-metadata"><em>Metadata</em></a>).</p>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="../index.html">
              <img class="logo" src="../_static/logo.png" alt="Logo"/>
            </a></p>
  <h3><a href="../index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Compound types</a><ul>
<li><a class="reference internal" href="#element">Element</a></li>
<li><a class="reference internal" href="#interaction">Interaction</a></li>
<li><a class="reference internal" href="#set">Set</a></li>
<li><a class="reference internal" href="#array">Array</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="base.html"
                        title="previous chapter">2.1. Base types</a></p>
<div class="sourcelink">
  <a href="../_sources/data/compound.txt" rel="nofollow">
    Show page source
  </a>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>

        </div>
      </div>
      <div class="clearer"></div>
    </div>
  <div class="related bottom">
  <nav id="rellinks">
    <ul>
        <li>
          &larr;
          <a href="base.html" title="Previous document">2.1. Base types</a>
        </li>
    </ul>
  </nav>
  <nav id="breadcrumbs">
    <ul>
      <li><a href="../index.html">Home</a></li>
      <li>
        <a href="index.html">2. Data</a>
      </li> 
    </ul>
  </nav>
  </div>
  <footer id="pagefooter">&copy; 2015, Alex Reynolds.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a>
      1.3b2
        with the <a href="http://github.com/irskep/sphinx-better-theme">
          better</a> theme.

  </footer>

  
  </body>
</html>