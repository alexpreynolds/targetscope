<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Request &mdash; Targetscope API</title>
    
    <link rel="stylesheet" href="../_static/better.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     'v1.1.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="https://c328740.ssl.cf1.rackcdn.com/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="top" title="Targetscope API" href="../index.html" />
    <link rel="up" title="Schema" href="index.html" />
    <link rel="next" title="Example" href="../example/index.html" />
    <link rel="prev" title="Schema" href="index.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <link rel="stylesheet" href="../_static/custom_style.css" type="text/css" />
  </head>
  <body role="document">
    <header id="pageheader"><h1><a href="../index.html ">
        Targetscope API
    </a></h1></header>
  <div class="related top">
  <nav id="rellinks">
    <ul>
        <li>
          &larr;
          <a href="index.html" title="Previous document">Schema</a>
        </li>
        <li>
          <a href="../example/index.html" title="Next document">Example</a>
          &rarr;
        </li>
    </ul>
  </nav>
  <nav id="breadcrumbs">
    <ul>
      <li><a href="../index.html">Home</a></li>
      <li>
        <a href="index.html">Schema</a>
      </li> 
    </ul>
  </nav>
  </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="request">
<span id="schema-request"></span><h1>Request<a class="headerlink" href="#request" title="Permalink to this headline">¶</a></h1>
<p>We use the <a class="reference external" href="http://json-schema.org/">JSON Schema v0.4</a> specification to write a schema that describes a <a class="reference external" href="http://en.wikipedia.org/wiki/Directed_acyclic_graph">directed acyclic object graph</a> of structured inputs, outputs, and a vocabulary of intermediate operations (<a class="reference internal" href="../operations/index.html#ops"><em>predicates</em></a> and <a class="reference internal" href="../data/index.html#data"><em>options</em></a>) used for accessing functionality in the <em>targetscope</em> application.</p>
<p>The schema aims to be flexible enough to be extended for use with the full application, as well as to be usable now with a web service to validate incoming sample requests.</p>
<div class="section" id="json-schema">
<h2>JSON Schema<a class="headerlink" href="#json-schema" title="Permalink to this headline">¶</a></h2>
<p>Refer to the <code class="docutils literal"><span class="pre">target_gene_schema.json</span></code> file (<a class="reference external" href="https://github.com/alexpreynolds/targetscope/blob/master/target_gene_schema.json">GitHub link</a>) for the current <em>targetscope</em> schema.</p>
<div class="section" id="base">
<span id="schema-request-base"></span><h3>Base<a class="headerlink" href="#base" title="Permalink to this headline">¶</a></h3>
<dl class="docutils" id="schema-request-base-version">
<dt><em>version</em></dt>
<dd>String. Specifies version of web request payload. One of <code class="docutils literal"><span class="pre">v1.0.0</span></code> or <code class="docutils literal"><span class="pre">v1.1.0</span></code>.</dd>
</dl>
<dl class="docutils" id="schema-request-base-id">
<dt><em>id</em></dt>
<dd>String. A unique server-side identifier for the web request (<em>e.g.</em>, <a class="reference external" href="http://en.wikipedia.org/wiki/Globally_unique_identifier">GUID</a>).</dd>
</dl>
<dl class="docutils" id="schema-request-base-name">
<dt><em>name</em></dt>
<dd>String. Nickname for request.</dd>
</dl>
<dl class="docutils" id="schema-request-base-dtsubmission">
<dt><em>dtsubmission</em></dt>
<dd>String (date-time). <a class="reference external" href="http://tools.ietf.org/html/rfc3339">RFC3339-formatted</a> submission timestamp (UTC).</dd>
</dl>
</div>
<div class="section" id="sets">
<span id="schema-request-sets"></span><h3>Sets<a class="headerlink" href="#sets" title="Permalink to this headline">¶</a></h3>
<p>Array of <em>id</em> and <em>kind</em> elements for each <a class="reference internal" href="../data/compound.html#compound-set"><em>Set</em></a>.</p>
<dl class="docutils" id="schema-request-sets-id">
<dt><em>id</em></dt>
<dd>String. A unique identifier for the Set (<em>e.g.</em>, <a class="reference external" href="http://en.wikipedia.org/wiki/Globally_unique_identifier">GUID</a>).</dd>
</dl>
<dl class="docutils" id="schema-request-sets-kind">
<dt><em>kind</em></dt>
<dd>String. Specified member type of Set. One of <code class="docutils literal"><span class="pre">element</span></code> or <code class="docutils literal"><span class="pre">interaction</span></code>.</dd>
</dl>
</div>
<div class="section" id="operations">
<span id="schema-request-op"></span><h3>Operations<a class="headerlink" href="#operations" title="Permalink to this headline">¶</a></h3>
<p>Operations in the request payload are made up of an array of objects containing two objects: <em>kind</em> and <em>arguments</em>. The <em>kind</em> is a key-value pair that describes the type or kind of operation, while <em>arguments</em> describes an array of options/parameters and input/output sets for that operation.</p>
<div class="section" id="kinds">
<span id="schema-request-op-kind"></span><h4>Kinds<a class="headerlink" href="#kinds" title="Permalink to this headline">¶</a></h4>
<p>The following are short descriptions of the JSON keywords used to describe an operation-kind. View the linked operation document for the full description and parameter list.</p>
<div class="section" id="element">
<h5>Element<a class="headerlink" href="#element" title="Permalink to this headline">¶</a></h5>
<dl class="docutils" id="schema-request-op-kind-element-set-attributes">
<dt><a class="reference internal" href="../operations/map.html#ops-map-summary"><em>element_set_attributes</em></a></dt>
<dd>Summarizes attributes of an <a class="reference internal" href="../data/compound.html#compound-element"><em>Element</em></a> <a class="reference internal" href="../data/compound.html#compound-set"><em>Set</em></a>. This summary could be the result of a numerical calculation on <a class="reference internal" href="../data/base.html#base-score"><em>Score</em></a> data, or a listing of <a class="reference internal" href="../data/base.html#base-name"><em>Name</em></a> values.</dd>
</dl>
<dl class="docutils" id="schema-request-op-kind-element-set-component">
<dt><a class="reference internal" href="../operations/filter.html#ops-filter-component"><em>element_set_component</em></a></dt>
<dd>Filters an <a class="reference internal" href="../data/compound.html#compound-interaction"><em>Interaction</em></a> to return either the first or second <a class="reference internal" href="../data/compound.html#compound-element"><em>Element</em></a> <a class="reference internal" href="../data/compound.html#compound-set"><em>Set</em></a> (promoter or DHS component).</dd>
</dl>
<dl class="docutils" id="schema-request-op-kind-element-set-difference">
<dt><a class="reference internal" href="../operations/set.html#ops-set-difference"><em>element_set_difference</em></a></dt>
<dd>Creates a new <a class="reference internal" href="../data/compound.html#compound-set"><em>Set</em></a> from <a class="reference internal" href="../data/base.html#base-range"><em>Ranges</em></a> found in the first input Set, excluding overlaps with Ranges in the second and subsequent input Sets.</dd>
</dl>
<dl class="docutils" id="schema-request-op-kind-element-set-element-of">
<dt><a class="reference internal" href="../operations/set.html#ops-set-inclusive-filter"><em>element_set_element_of</em></a></dt>
<dd>Creates a new <a class="reference internal" href="../data/compound.html#compound-set"><em>Set</em></a> from <a class="reference internal" href="../data/compound.html#compound-element"><em>Elements</em></a> in the first set, where <a class="reference internal" href="../data/base.html#base-range"><em>Range</em></a> components of Elements in the second (and subsequent) Sets overlap the first Set&#8217;s Elements by the specified integer or float value.</dd>
</dl>
<dl class="docutils" id="schema-request-op-kind-element-set-filter-chromosome">
<dt><a class="reference internal" href="../operations/filter.html#ops-filter-chromosome"><em>element_set_filter_chromosome</em></a></dt>
<dd>Filters <a class="reference internal" href="../data/compound.html#compound-element"><em>Elements</em></a> with a <a class="reference internal" href="../data/base.html#base-range"><em>Range</em></a> component by the specified, exact chromosome string name.</dd>
</dl>
<dl class="docutils" id="schema-request-op-kind-element-set-filter-name">
<dt><a class="reference internal" href="../operations/filter.html#ops-filter-name"><em>element_set_filter_name</em></a></dt>
<dd>Filters <a class="reference internal" href="../data/compound.html#compound-element"><em>Elements</em></a> with <a class="reference internal" href="../data/base.html#base-name"><em>Name</em></a> components by the specified string and Boolean values.</dd>
</dl>
<dl class="docutils" id="schema-request-op-kind-element-set-filter-score">
<dt><a class="reference internal" href="../operations/filter.html#ops-filter-score"><em>element_set_filter_score</em></a></dt>
<dd>Filters <a class="reference internal" href="../data/compound.html#compound-element"><em>Elements</em></a> with <a class="reference internal" href="../data/base.html#base-score"><em>Score</em></a> components by the specified numerical value and relational operator.</dd>
</dl>
<dl class="docutils" id="schema-request-op-kind-element-set-filter-strand">
<dt><a class="reference internal" href="../operations/filter.html#ops-filter-strand"><em>element_set_filter_strand</em></a></dt>
<dd>Filters <a class="reference internal" href="../data/compound.html#compound-element"><em>Elements</em></a> with <a class="reference internal" href="../data/base.html#base-name"><em>Name</em></a> components by the specified <a class="reference internal" href="../data/base.html#base-strand"><em>Strand</em></a> value.</dd>
</dl>
<dl class="docutils" id="schema-request-op-kind-element-set-map-on-element-set">
<dt><a class="reference internal" href="../operations/map.html#ops-map-element-onto-element"><em>element_set_map_on_element_set</em></a></dt>
<dd>Maps elements in one &#8220;map&#8221; <a class="reference internal" href="../data/compound.html#compound-set"><em>Set</em></a> to <a class="reference internal" href="../data/compound.html#compound-element"><em>Elements</em></a> in another &#8220;reference&#8221; set, if mapped Elements meet the specified overlap criteria.</dd>
</dl>
<dl class="docutils" id="schema-request-op-kind-element-set-map-on-interaction-set">
<dt><a class="reference internal" href="../operations/map.html#ops-map-element-onto-interaction"><em>element_set_map_on_interaction_set</em></a></dt>
<dd>Identical to mapping an <a class="reference internal" href="../data/compound.html#compound-element"><em>Element</em></a> <a class="reference internal" href="../data/compound.html#compound-set"><em>Set</em></a> against another Element Set, with the same default overlap criteria, except that we specify which of the two components of the <a class="reference internal" href="../data/compound.html#compound-interaction"><em>Interaction</em></a> we would like to treat as the reference Set to map our input Element Set against.</dd>
</dl>
<dl class="docutils" id="schema-request-op-kind-element-set-merge">
<dt><a class="reference internal" href="../operations/set.html#ops-set-merge"><em>element_set_merge</em></a></dt>
<dd>Takes merge of <a class="reference internal" href="../data/base.html#base-range"><em>Ranges</em></a> of input <a class="reference internal" href="../data/compound.html#compound-element"><em>Elements</em></a> in one or more <a class="reference internal" href="../data/compound.html#compound-set"><em>Sets</em></a>.</dd>
</dl>
<dl class="docutils" id="schema-request-op-kind-element-set-not-element-of">
<dt><a class="reference internal" href="../operations/set.html#ops-set-exclusive-filter"><em>element_set_not_element_of</em></a></dt>
<dd>Creates a new <a class="reference internal" href="../data/compound.html#compound-set"><em>Set</em></a> from elements in the first <a class="reference internal" href="../data/compound.html#compound-set"><em>Set</em></a>, where <a class="reference internal" href="../data/base.html#base-range"><em>Range</em></a> components of <a class="reference internal" href="../data/compound.html#compound-element"><em>Elements</em></a> in the second (and subsequent) Sets do not overlap the first Set&#8217;s Elements by the specified integer or float value.</dd>
</dl>
<dl class="docutils" id="schema-request-op-kind-element-set-partition">
<dt><a class="reference internal" href="../operations/set.html#ops-set-partition"><em>element_set_partition</em></a></dt>
<dd>Creates a new <a class="reference internal" href="../data/compound.html#compound-set"><em>Set</em></a> from disjoint Ranges computed from all input Sets. A partition of one Set alone will segment any overlapping Elements within that Set.</dd>
</dl>
<dl class="docutils" id="schema-request-op-kind-element-set-range">
<dt><a class="reference internal" href="../operations/range.html#ops-range-adjust-element"><em>element_set_range</em></a></dt>
<dd>Symmetrically or asymmetrically shrinks or grows <a class="reference internal" href="../data/compound.html#compound-element"><em>Elements</em></a> by specified integer parameter(s).</dd>
</dl>
<dl class="docutils" id="schema-request-op-kind-element-set-symmetric-difference">
<dt><a class="reference internal" href="../operations/set.html#ops-set-symmdiff"><em>element_set_symmetric_difference</em></a></dt>
<dd>Creates a new <a class="reference internal" href="../data/compound.html#compound-set"><em>Set</em></a> from <a class="reference internal" href="../data/base.html#base-range"><em>Ranges</em></a> found in the first input Set, excluding overlaps with Ranges in the second and subsequent input Sets, unionized with Ranges found in the second input Set, excluding overlaps with Ranges in all other input Sets, etc.</dd>
</dl>
<dl class="docutils" id="schema-request-op-kind-element-set-union">
<dt><a class="reference internal" href="../operations/set.html#ops-set-union"><em>element_set_union</em></a></dt>
<dd>Takes union of <a class="reference internal" href="../data/compound.html#compound-element"><em>Elements</em></a> in one or more <a class="reference internal" href="../data/compound.html#compound-set"><em>Sets</em></a>, returning one <a class="reference internal" href="../data/compound.html#compound-set"><em>Set</em></a> containing all elements.</dd>
</dl>
</div>
<div class="section" id="interaction">
<h5>Interaction<a class="headerlink" href="#interaction" title="Permalink to this headline">¶</a></h5>
<dl class="docutils" id="schema-request-op-kind-interaction-set-filter-component">
<dt><a class="reference internal" href="../operations/filter.html#ops-filter-component"><em>interaction_set_filter_component</em></a></dt>
<dd>Filters an <a class="reference internal" href="../data/compound.html#compound-interaction"><em>Interaction</em></a> <a class="reference internal" href="../data/compound.html#compound-set"><em>Set</em></a> to return either the first or second component as an <a class="reference internal" href="../data/compound.html#compound-element"><em>Element</em></a> <a class="reference internal" href="../data/compound.html#compound-set"><em>Set</em></a>.</dd>
</dl>
<dl class="docutils" id="schema-request-op-kind-interaction-set-range">
<dt><a class="reference internal" href="../operations/interaction.html#ops-interaction-range"><em>interaction_set_range</em></a></dt>
<dd>Symmetrically or asymmetrically shrinks or grows a component of an <a class="reference internal" href="../data/compound.html#compound-interaction"><em>Interaction</em></a> in a larger <a class="reference internal" href="../data/compound.html#compound-set"><em>Set</em></a>.</dd>
</dl>
<dl class="docutils" id="schema-request-op-kind-interaction-set-union">
<dt><a class="reference internal" href="../operations/interaction.html#ops-interaction-union"><em>interaction_set_union</em></a></dt>
<dd>Takes the union of <a class="reference internal" href="../data/compound.html#compound-interaction"><em>Interactions</em></a> in a <a class="reference internal" href="../data/compound.html#compound-set"><em>Set</em></a>, yielding one <a class="reference internal" href="../data/compound.html#compound-set"><em>Set</em></a> made up of each of the input Interactions.</dd>
</dl>
</div>
</div>
<div class="section" id="arguments">
<h4>Arguments<a class="headerlink" href="#arguments" title="Permalink to this headline">¶</a></h4>
<p>Arguments are made up of <em>options</em> and <em>sets</em> arrays.</p>
<div class="section" id="options">
<h5>Options<a class="headerlink" href="#options" title="Permalink to this headline">¶</a></h5>
<p>Options specify an array of <em>kind</em> and <em>value</em> key-value pairings. The following list of keywords specifies the <em>kind</em> of option and the format of its string <em>value</em>.</p>
<dl class="docutils" id="schema-request-op-option-range-start">
<dt><a class="reference internal" href="../operations/range.html#ops-range-adjust-element"><em>range_start</em></a></dt>
<dd>In conjunction with <a class="reference internal" href="#schema-request-op-kind-element-set-range"><em>element_set_range</em></a> this parameter adjusts the left or start edge of an <a class="reference internal" href="../data/compound.html#compound-element"><em>Element</em></a> by the specified integer value.</dd>
</dl>
<dl class="docutils" id="schema-request-op-option-range-stop">
<dt><a class="reference internal" href="../operations/range.html#ops-range-adjust-element"><em>range_stop</em></a></dt>
<dd>In conjunction with <a class="reference internal" href="#schema-request-op-kind-element-set-range"><em>element_set_range</em></a> this parameter adjusts the right or stop edge of an <a class="reference internal" href="../data/compound.html#compound-element"><em>Element</em></a> by the specified integer value.</dd>
</dl>
<dl class="docutils" id="schema-request-op-option-filter-score">
<dt><a class="reference internal" href="../operations/filter.html#ops-filter-score"><em>filter_score</em></a></dt>
<dd>In conjunction with <a class="reference internal" href="#schema-request-op-kind-element-set-filter-score"><em>element_set_filter_score</em></a> this parameter filters <a class="reference internal" href="../data/compound.html#compound-element"><em>Elements</em></a> by the specified numerical value, relational operator, and Boolean value. The Boolean value specifies This value is a semi-colon-delimited string specifying the value and operator, <em>e.g.</em> <code class="docutils literal"><span class="pre">5.12;&lt;;true</span></code>, <code class="docutils literal"><span class="pre">0.0000298;&gt;=;false</span></code>, etc.</dd>
</dl>
<dl class="docutils" id="schema-request-op-option-filter-name">
<dt><a class="reference internal" href="../operations/filter.html#ops-filter-name"><em>filter_name</em></a></dt>
<dd>In conjunction with <a class="reference internal" href="#schema-request-op-kind-element-set-filter-name"><em>element_set_filter_name</em></a> this parameter filters <a class="reference internal" href="../data/compound.html#compound-element"><em>Elements</em></a> by a match with the specified <a class="reference internal" href="../data/base.html#base-name"><em>Name</em></a> and two Boolean values (<code class="docutils literal"><span class="pre">true</span></code> or <code class="docutils literal"><span class="pre">false</span></code>). The first Boolean value specifies an exact (<code class="docutils literal"><span class="pre">true</span></code>) or partial (<code class="docutils literal"><span class="pre">false</span></code>) match on the <a class="reference internal" href="../data/base.html#base-name"><em>Name</em></a> parameter. The second Boolean value specifies if the operation is inverted (<code class="docutils literal"><span class="pre">true</span></code> specifies all elements match the Name, while <code class="docutils literal"><span class="pre">false</span></code> includes all elements <em>except</em> those which match the <a class="reference internal" href="../data/base.html#base-name"><em>Name</em></a>). The parameter string value is a semi-colon-delimited string specifying the Name and Boolean values, <em>e.g.</em> <code class="docutils literal"><span class="pre">RARA;true;false</span></code> or <code class="docutils literal"><span class="pre">CTCF;true;true</span></code>, etc.</dd>
</dl>
<dl class="docutils" id="schema-request-op-option-filter-strand">
<dt><a class="reference internal" href="../operations/filter.html#ops-filter-strand"><em>filter_strand</em></a></dt>
<dd>In conjunction with <a class="reference internal" href="#schema-request-op-kind-element-set-filter-strand"><em>element_set_filter_strand</em></a> this parameter filters <a class="reference internal" href="../data/compound.html#compound-element"><em>Elements</em></a> by a match with the specified <a class="reference internal" href="../data/base.html#base-strand"><em>Strand</em></a> and Boolean value (<code class="docutils literal"><span class="pre">true</span></code> or <code class="docutils literal"><span class="pre">false</span></code>). The Boolean value specifies if the operation is inverted (<code class="docutils literal"><span class="pre">true</span></code> includes all Elements which match the Strand value, while <code class="docutils literal"><span class="pre">false</span></code> excludes Elements which match the Strand value). The parameter string value is a semi-colon-delimited string specifying the value and Boolean value, <em>e.g.</em> <code class="docutils literal"><span class="pre">+;true</span></code> or <code class="docutils literal"><span class="pre">.;false</span></code>, etc.</dd>
</dl>
<dl class="docutils" id="schema-request-op-option-filter-chromosome">
<dt><a class="reference internal" href="../operations/filter.html#ops-filter-chromosome"><em>filter_chromosome</em></a></dt>
<dd>In conjunction with <a class="reference internal" href="#schema-request-op-kind-element-set-filter-chromosome"><em>element_set_filter_chromosome</em></a> this parameter filters <a class="reference internal" href="../data/compound.html#compound-element"><em>Elements</em></a> by an exact match with the specified chromosome string name and Boolean value. A false Boolean value allows specifying the inverse of the result set (all elements but those on the specified chromosome). The parameter string value is a semi-colon-delimited string specifying the value and Boolean value, <em>e.g.</em> <code class="docutils literal"><span class="pre">chr17;true</span></code> or <code class="docutils literal"><span class="pre">chrX;false</span></code>, etc.</dd>
</dl>
<dl class="docutils" id="schema-request-op-option-filter-interaction-component">
<dt><a class="reference internal" href="../operations/filter.html#ops-filter-component"><em>filter_interaction_component</em></a></dt>
<dd>In conjunction with <a class="reference internal" href="#schema-request-op-kind-interaction-set-filter-component"><em>interaction_set_filter_component</em></a> this parameter filters an <a class="reference internal" href="../data/compound.html#compound-interaction"><em>Interaction</em></a> <a class="reference internal" href="../data/compound.html#compound-set"><em>Set</em></a> to return either the first or second component as an <a class="reference internal" href="../data/compound.html#compound-element"><em>Element</em></a> <a class="reference internal" href="../data/compound.html#compound-set"><em>Set</em></a>, using the specified integer string value <code class="docutils literal"><span class="pre">&quot;0&quot;</span></code> or <code class="docutils literal"><span class="pre">&quot;1&quot;</span></code>.</dd>
</dl>
<dl class="docutils" id="schema-request-op-option-set-range-left">
<dt><a class="reference internal" href="../operations/range.html#ops-range-adjust-element"><em>set_range_left</em></a></dt>
<dd>In conjunction with <a class="reference internal" href="#schema-request-op-kind-element-set-range"><em>element_set_range</em></a> this parameter adjusts the left or start edge of a <a class="reference internal" href="../data/compound.html#compound-set"><em>Set</em></a> of <a class="reference internal" href="../data/compound.html#compound-element"><em>Elements</em></a> by the specified integer string value.</dd>
</dl>
<dl class="docutils" id="schema-request-op-option-set-range-right">
<dt><a class="reference internal" href="../operations/range.html#ops-range-adjust-element"><em>set_range_right</em></a></dt>
<dd>In conjunction with <a class="reference internal" href="#schema-request-op-kind-element-set-range"><em>element_set_range</em></a> this parameter adjusts the right or stop edge of a <a class="reference internal" href="../data/compound.html#compound-set"><em>Set</em></a> of <a class="reference internal" href="../data/compound.html#compound-element"><em>Elements</em></a> by the specified integer string value.</dd>
</dl>
<dl class="docutils" id="schema-request-op-option-set-overlap-bases">
<dt><em>set_overlap_bases</em> (multiple operations)</dt>
<dd>In conjunction with <a class="reference internal" href="#schema-request-op-kind-element-set-element-of"><em>element_set_element_of</em></a>, <a class="reference internal" href="#schema-request-op-kind-element-set-not-element-of"><em>element_set_not_element_of</em></a>, <a class="reference internal" href="#schema-request-op-kind-element-set-map-on-element-set"><em>element_set_map_on_element_set</em></a> and <a class="reference internal" href="#schema-request-op-kind-element-set-map-on-interaction-set"><em>element_set_map_on_interaction_set</em></a> operations, this parameter sets the minimum overlap criteria in bases, as an integer value in string format. The default value is <code class="docutils literal"><span class="pre">&quot;1&quot;</span></code> base.</dd>
</dl>
<dl class="docutils" id="schema-request-op-option-set-overlap-fraction-both">
<dt><em>set_overlap_fraction_both</em> (multiple operations)</dt>
<dd>In conjunction with <a class="reference internal" href="#schema-request-op-kind-element-set-map-on-element-set"><em>element_set_map_on_element_set</em></a> and <a class="reference internal" href="#schema-request-op-kind-element-set-map-on-interaction-set"><em>element_set_map_on_interaction_set</em></a> operations, this parameter sets the minimum overlap criteria as a fractional value <em>0 &lt; n &lt;= 1</em> (string-formatted) that is applied to <em>both</em> the reference and map <a class="reference internal" href="../data/compound.html#compound-set"><em>Sets</em></a> within the operation.</dd>
</dl>
<dl class="docutils" id="schema-request-op-option-set-overlap-fraction-either">
<dt><em>set_overlap_fraction_either</em> (multiple operations)</dt>
<dd>In conjunction with <a class="reference internal" href="#schema-request-op-kind-element-set-map-on-element-set"><em>element_set_map_on_element_set</em></a> and <a class="reference internal" href="#schema-request-op-kind-element-set-map-on-interaction-set"><em>element_set_map_on_interaction_set</em></a> operations, this parameter sets the minimum overlap criteria as a fractional value <em>0 &lt; n &lt;= 1</em> (string-formatted) that is applied to <em>either</em> of the reference and map <a class="reference internal" href="../data/compound.html#compound-set"><em>Sets</em></a> within the operation.</dd>
</dl>
<dl class="docutils" id="schema-request-op-option-set-overlap-fraction-map">
<dt><em>set_overlap_fraction_map</em> (multiple operations)</dt>
<dd>In conjunction with <a class="reference internal" href="#schema-request-op-kind-element-set-map-on-element-set"><em>element_set_map_on_element_set</em></a> and <a class="reference internal" href="#schema-request-op-kind-element-set-map-on-interaction-set"><em>element_set_map_on_interaction_set</em></a> operations, this parameter sets the minimum overlap criteria as a fractional value <em>0 &lt; n &lt;= 1</em> (string-formatted) that is applied to map <a class="reference internal" href="../data/compound.html#compound-set"><em>Set</em></a> within the operation.</dd>
</dl>
<dl class="docutils" id="schema-request-op-option-set-overlap-fraction-ref">
<dt><em>set_overlap_fraction_ref</em> (multiple operations)</dt>
<dd>In conjunction with <a class="reference internal" href="#schema-request-op-kind-element-set-map-on-element-set"><em>element_set_map_on_element_set</em></a> and <a class="reference internal" href="#schema-request-op-kind-element-set-map-on-interaction-set"><em>element_set_map_on_interaction_set</em></a> operations, this parameter sets the minimum overlap criteria as a fractional value <em>0 &lt; n &lt;= 1</em> (string-formatted) that is applied to reference <a class="reference internal" href="../data/compound.html#compound-set"><em>Set</em></a> within the operation.</dd>
</dl>
<div class="highlight-python"><div class="highlight"><pre><span class="s">&quot;set_overlap_exact&quot;</span><span class="p">,</span>
<span class="s">&quot;set_overlap_range_start&quot;</span><span class="p">,</span>
<span class="s">&quot;set_overlap_range_stop&quot;</span>
</pre></div>
</div>
</div>
<div class="section" id="id2">
<h5>Sets<a class="headerlink" href="#id2" title="Permalink to this headline">¶</a></h5>
<p>The <em>sets</em> array contains objects with <em>id</em> and <em>kind</em> key-value pairings.</p>
<dl class="docutils" id="schema-request-op-sets-id">
<dt><em>id</em></dt>
<dd>String. Should match one of the ID values listed in the overall <a class="reference internal" href="#schema-request-sets"><em>Sets</em></a> array.</dd>
</dl>
<dl class="docutils" id="schema-request-op-sets-kind">
<dt><em>kind</em></dt>
<dd>String. Specifies type of set. One of <code class="docutils literal"><span class="pre">input</span></code>, <code class="docutils literal"><span class="pre">input_reference</span></code>, <code class="docutils literal"><span class="pre">input_map</span></code> and <code class="docutils literal"><span class="pre">output</span></code>. An <code class="docutils literal"><span class="pre">input*</span></code> type indicates an existing set, while the <code class="docutils literal"><span class="pre">output</span></code> type indicates the set is an intermediate or final result yet to be generated.</dd>
</dl>
</div>
</div>
</div>
</div>
<div class="section" id="validation">
<h2>Validation<a class="headerlink" href="#validation" title="Permalink to this headline">¶</a></h2>
<p>We include a test web request that follows the schema (<code class="docutils literal"><span class="pre">target_gene_test_request.json</span></code>, <a class="reference external" href="https://github.com/alexpreynolds/targetscope/blob/master/target_gene_test_request.json">GitHub link</a>) which can be validated with the included Python script (<code class="docutils literal"><span class="pre">target_gene_request_validation.py</span></code>, <a class="reference external" href="https://github.com/alexpreynolds/targetscope/blob/master/target_gene_request_validation.py">GitHub link</a>) with the installation of the <a class="reference external" href="http://json-schema.org">jsonschema</a> Python package.</p>
<div class="topic">
<p class="topic-title first">Example</p>
<div class="highlight-python"><div class="highlight"><pre>$ python
Python 2.7.6 (default, Jul  9 2014, 20:49:24)
[GCC 4.2.1 Compatible Apple LLVM 6.0 (clang-600.0.38)] on darwin
Type &quot;help&quot;, &quot;copyright&quot;, &quot;credits&quot; or &quot;license&quot; for more information.
&gt;&gt;&gt; import json
&gt;&gt;&gt; from jsonschema import validate
&gt;&gt;&gt; schema_fh = open(&quot;target_gene_schema.json&quot;, &quot;r&quot;)
&gt;&gt;&gt; schema = json.load(schema_fh)
&gt;&gt;&gt; test_request_fh = open(&quot;target_gene_test_request.json&quot;, &quot;r&quot;)
&gt;&gt;&gt; test_request = json.load(test_request_fh)
&gt;&gt;&gt; validate(test_request, schema)
&gt;&gt;&gt;
</pre></div>
</div>
</div>
<p>In this example, if validation fails (some field is missing or of the incorrect type), a <code class="docutils literal"><span class="pre">ValidationError</span></code> exception is thrown with errors that point to the offending object.</p>
<p>For example, if the request contains an invalid <code class="docutils literal"><span class="pre">version</span></code> key value, then the validation script will throw a detailed exception report:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">Traceback</span> <span class="p">(</span><span class="n">most</span> <span class="n">recent</span> <span class="n">call</span> <span class="n">last</span><span class="p">):</span>
  <span class="n">File</span> <span class="s">&quot;./target_gene_request_validation.py&quot;</span><span class="p">,</span> <span class="n">line</span> <span class="mi">10</span><span class="p">,</span> <span class="ow">in</span> <span class="o">&lt;</span><span class="n">module</span><span class="o">&gt;</span>
    <span class="n">validate</span><span class="p">(</span><span class="n">test_request</span><span class="p">,</span> <span class="n">schema</span><span class="p">)</span>
  <span class="n">File</span> <span class="s">&quot;/Library/Python/2.7/site-packages/jsonschema-2.3.0-py2.7.egg/jsonschema/validators.py&quot;</span><span class="p">,</span> <span class="n">line</span> <span class="mi">428</span><span class="p">,</span> <span class="ow">in</span> <span class="n">validate</span>
    <span class="n">cls</span><span class="p">(</span><span class="n">schema</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span><span class="o">.</span><span class="n">validate</span><span class="p">(</span><span class="n">instance</span><span class="p">)</span>
  <span class="n">File</span> <span class="s">&quot;/Library/Python/2.7/site-packages/jsonschema-2.3.0-py2.7.egg/jsonschema/validators.py&quot;</span><span class="p">,</span> <span class="n">line</span> <span class="mi">117</span><span class="p">,</span> <span class="ow">in</span> <span class="n">validate</span>
    <span class="k">raise</span> <span class="n">error</span>
<span class="n">jsonschema</span><span class="o">.</span><span class="n">exceptions</span><span class="o">.</span><span class="n">ValidationError</span><span class="p">:</span> <span class="s">u&#39;v1.2.0&#39;</span> <span class="ow">is</span> <span class="ow">not</span> <span class="n">one</span> <span class="n">of</span> <span class="p">[</span><span class="s">u&#39;v1.0.0&#39;</span><span class="p">,</span> <span class="s">u&#39;v1.1.0&#39;</span><span class="p">]</span>

<span class="n">Failed</span> <span class="n">validating</span> <span class="s">u&#39;enum&#39;</span> <span class="ow">in</span> <span class="n">schema</span><span class="p">[</span><span class="s">u&#39;properties&#39;</span><span class="p">][</span><span class="s">u&#39;version&#39;</span><span class="p">]:</span>
    <span class="p">{</span><span class="s">u&#39;enum&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s">u&#39;v1.0.0&#39;</span><span class="p">,</span> <span class="s">u&#39;v1.1.0&#39;</span><span class="p">]}</span>

<span class="n">On</span> <span class="n">instance</span><span class="p">[</span><span class="s">u&#39;version&#39;</span><span class="p">]:</span>
    <span class="s">u&#39;v1.2.0&#39;</span>
</pre></div>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="../index.html">
              <img class="logo" src="../_static/logo.png" alt="Logo"/>
            </a></p>
  <h3><a href="../index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Request</a><ul>
<li><a class="reference internal" href="#json-schema">JSON Schema</a><ul>
<li><a class="reference internal" href="#base">Base</a></li>
<li><a class="reference internal" href="#sets">Sets</a></li>
<li><a class="reference internal" href="#operations">Operations</a><ul>
<li><a class="reference internal" href="#kinds">Kinds</a><ul>
<li><a class="reference internal" href="#element">Element</a></li>
<li><a class="reference internal" href="#interaction">Interaction</a></li>
</ul>
</li>
<li><a class="reference internal" href="#arguments">Arguments</a><ul>
<li><a class="reference internal" href="#options">Options</a></li>
<li><a class="reference internal" href="#id2">Sets</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#validation">Validation</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="index.html"
                        title="previous chapter">Schema</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="../example/index.html"
                        title="next chapter">Example</a></p>
<div class="sourcelink">
  <a href="../_sources/schema/request.txt" rel="nofollow">
    Show page source
  </a>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>

        </div>
      </div>
      <div class="clearer"></div>
    </div>
  <div class="related bottom">
  <nav id="rellinks">
    <ul>
        <li>
          &larr;
          <a href="index.html" title="Previous document">Schema</a>
        </li>
        <li>
          <a href="../example/index.html" title="Next document">Example</a>
          &rarr;
        </li>
    </ul>
  </nav>
  <nav id="breadcrumbs">
    <ul>
      <li><a href="../index.html">Home</a></li>
      <li>
        <a href="index.html">Schema</a>
      </li> 
    </ul>
  </nav>
  </div>
  <footer id="pagefooter">&copy; 2015, Alex Reynolds.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a>
      1.3b2
        with the <a href="http://github.com/irskep/sphinx-better-theme">
          better</a> theme.

  </footer>

  
  </body>
</html>