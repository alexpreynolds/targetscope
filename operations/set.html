<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Set &mdash; Targetscope API</title>
    
    <link rel="stylesheet" href="../_static/better.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     'v1.1.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="https://c328740.ssl.cf1.rackcdn.com/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="top" title="Targetscope API" href="../index.html" />
    <link rel="up" title="Operations" href="index.html" />
    <link rel="next" title="Interaction" href="interaction.html" />
    <link rel="prev" title="Filter" href="filter.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <link rel="stylesheet" href="../_static/custom_style.css" type="text/css" />
  </head>
  <body role="document">
    <header id="pageheader"><h1><a href="../index.html ">
        Targetscope API
    </a></h1></header>
  <div class="related top">
  <nav id="rellinks">
    <ul>
        <li>
          &larr;
          <a href="filter.html" title="Previous document">Filter</a>
        </li>
        <li>
          <a href="interaction.html" title="Next document">Interaction</a>
          &rarr;
        </li>
    </ul>
  </nav>
  <nav id="breadcrumbs">
    <ul>
      <li><a href="../index.html">Home</a></li>
      <li>
        <a href="index.html">Operations</a>
      </li> 
    </ul>
  </nav>
  </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="set">
<span id="ops-set"></span><h1>Set<a class="headerlink" href="#set" title="Permalink to this headline">¶</a></h1>
<div class="section" id="union">
<span id="ops-set-union"></span><h2>Union<a class="headerlink" href="#union" title="Permalink to this headline">¶</a></h2>
<dl class="docutils">
<dt><strong>Input</strong></dt>
<dd>1 or more <a class="reference internal" href="../data/compound.html#compound-element"><em>Element</em></a> <a class="reference internal" href="../data/compound.html#compound-set"><em>Sets</em></a></dd>
<dt><strong>Output</strong></dt>
<dd><a class="reference internal" href="../data/compound.html#compound-element"><em>Element</em></a> <a class="reference internal" href="../data/compound.html#compound-set"><em>Set</em></a></dd>
<dt><strong>CLI example</strong></dt>
<dd><code class="docutils literal"><span class="pre">bedops</span> <span class="pre">--everything</span> <span class="pre">foo1.bed</span> <span class="pre">foo2.bed</span> <span class="pre">...</span> <span class="pre">&gt;</span> <span class="pre">union.bed</span></code></dd>
</dl>
<p>This operation takes the union of <a class="reference internal" href="../data/compound.html#compound-element"><em>Elements</em></a> in a set, yielding one set made up of each of the input elements. Each Element in the output set preserves its basic <a class="reference internal" href="../data/base.html#base-score"><em>Score</em></a>, <a class="reference internal" href="../data/base.html#base-name"><em>Name</em></a>, <em>etc.</em> attributes. The union of one input set is the set itself.</p>
<a class="reference internal image-reference" href="../_images/ops_set_union.png"><img alt="../_images/ops_set_union.png" src="../_images/ops_set_union.png" style="width: 99%;" /></a>
</div>
<div class="section" id="merge">
<span id="ops-set-merge"></span><h2>Merge<a class="headerlink" href="#merge" title="Permalink to this headline">¶</a></h2>
<dl class="docutils">
<dt><strong>Input</strong></dt>
<dd>1 or more <a class="reference internal" href="../data/compound.html#compound-element"><em>Element</em></a> <a class="reference internal" href="../data/compound.html#compound-set"><em>Sets</em></a></dd>
<dt><strong>Output</strong></dt>
<dd><a class="reference internal" href="../data/compound.html#compound-element"><em>Element</em></a> <a class="reference internal" href="../data/compound.html#compound-set"><em>Set</em></a></dd>
<dt><strong>CLI example</strong></dt>
<dd><code class="docutils literal"><span class="pre">bedops</span> <span class="pre">--merge</span> <span class="pre">foo1.bed</span> <span class="pre">foo2.bed</span> <span class="pre">...</span> <span class="pre">&gt;</span> <span class="pre">merge.bed</span></code></dd>
</dl>
<p>This operation takes the merge of <a class="reference internal" href="../data/base.html#base-range"><em>Ranges</em></a> of input <a class="reference internal" href="../data/compound.html#compound-element"><em>Elements</em></a> in a set, yielding one set made up of new <a class="reference internal" href="../data/compound.html#compound-element"><em>Element</em></a> values calculated from the ranges.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Because this result is calculated, each new <a class="reference internal" href="../data/compound.html#compound-element"><em>Element</em></a> in the output set loses any input attributes.</p>
</div>
<p>The merge of one input set is the set of contiguous ranges of overlapping input elements.</p>
<a class="reference internal image-reference" href="../_images/ops_set_merge.png"><img alt="../_images/ops_set_merge.png" src="../_images/ops_set_merge.png" style="width: 99%;" /></a>
</div>
<div class="section" id="inclusive-filter">
<span id="ops-set-inclusive-filter"></span><h2>Inclusive filter<a class="headerlink" href="#inclusive-filter" title="Permalink to this headline">¶</a></h2>
<dl class="docutils">
<dt><strong>Input</strong></dt>
<dd>2 or more <a class="reference internal" href="../data/compound.html#compound-element"><em>Element</em></a> <a class="reference internal" href="../data/compound.html#compound-set"><em>Sets</em></a>; integer (base) or float (percentage) overlap parameter</dd>
<dt><strong>Output</strong></dt>
<dd><a class="reference internal" href="../data/compound.html#compound-element"><em>Element</em></a> <a class="reference internal" href="../data/compound.html#compound-set"><em>Sets</em></a></dd>
<dt><strong>CLI example</strong></dt>
<dd><code class="docutils literal"><span class="pre">bedops</span> <span class="pre">--element-of</span> <span class="pre">-1</span> <span class="pre">foo.bed</span> <span class="pre">bar1.bed</span> <span class="pre">bar2.bed</span> <span class="pre">...</span> <span class="pre">&gt;</span> <span class="pre">inclusive_filter.bed</span></code></dd>
</dl>
<p>This filter creates a new <a class="reference internal" href="../data/compound.html#compound-set"><em>set</em></a> from <a class="reference internal" href="../data/compound.html#compound-element"><em>elements</em></a> in the first set, where <a class="reference internal" href="../data/base.html#base-range"><em>range</em></a> components of elements in the second (and subsequent) sets overlap the first set&#8217;s elements by the specified integer or float value.</p>
<p>If that value is an integer, overlap is calculated as a measure of required overlap of bases in the elements&#8217; <a class="reference internal" href="../data/base.html#base-range"><em>range</em></a> components. If that value is a percentage, overlap is calculated as a required minimum fraction of overlap between ranges.</p>
<p>If there are more than two <a class="reference internal" href="../data/compound.html#compound-set"><em>sets</em></a> specified as input, the second and subsequent <a class="reference internal" href="../data/compound.html#compound-set"><em>sets</em></a> are first merged into an intermediate set. The first set is then filtered against this intermediate set using the specified overlap threshold.</p>
<p>Because the output set is made up of elements from the first set, those <a class="reference internal" href="../data/compound.html#compound-element"><em>elements</em></a> should preserve all additional attributes (<a class="reference internal" href="../data/base.html#base-name"><em>Name</em></a>, <a class="reference internal" href="../data/base.html#base-score"><em>Score</em></a>, <em>etc.</em>) where applicable.</p>
<p>The ordering of sets in this operation matters; <em>e.g.</em>, compare these two inclusion operations, where the two sets are in different order.</p>
<p>In the first example, we filter set A against set B:</p>
<a class="reference internal image-reference" href="../_images/ops_set_inclusive_filter_ab.png"><img alt="../_images/ops_set_inclusive_filter_ab.png" src="../_images/ops_set_inclusive_filter_ab.png" style="width: 99%;" /></a>
<p>In the second example, we filter set B against set A:</p>
<a class="reference internal image-reference" href="../_images/ops_set_inclusive_filter_ba.png"><img alt="../_images/ops_set_inclusive_filter_ba.png" src="../_images/ops_set_inclusive_filter_ba.png" style="width: 99%;" /></a>
<p>As shown, this is not a symmetric operation.</p>
</div>
<div class="section" id="exclusive-filter">
<span id="ops-set-exclusive-filter"></span><h2>Exclusive filter<a class="headerlink" href="#exclusive-filter" title="Permalink to this headline">¶</a></h2>
<dl class="docutils">
<dt><strong>Input</strong></dt>
<dd>2 or more <a class="reference internal" href="../data/compound.html#compound-element"><em>Element</em></a> <a class="reference internal" href="../data/compound.html#compound-set"><em>Sets</em></a>; integer (base) or float (percentage) overlap parameter</dd>
<dt><strong>Output</strong></dt>
<dd><a class="reference internal" href="../data/compound.html#compound-element"><em>Element</em></a> <a class="reference internal" href="../data/compound.html#compound-set"><em>Sets</em></a></dd>
<dt><strong>CLI example</strong></dt>
<dd><code class="docutils literal"><span class="pre">bedops</span> <span class="pre">--not-element-of</span> <span class="pre">-1</span> <span class="pre">foo.bed</span> <span class="pre">bar1.bed</span> <span class="pre">bar2.bed</span> <span class="pre">...</span> <span class="pre">&gt;</span> <span class="pre">exclusive_filter.bed</span></code></dd>
</dl>
<p>This filter creates a new <a class="reference internal" href="../data/compound.html#compound-set"><em>set</em></a> from elements in the first <a class="reference internal" href="../data/compound.html#compound-set"><em>set</em></a>, where <a class="reference internal" href="../data/base.html#base-range"><em>range</em></a> components of <a class="reference internal" href="../data/compound.html#compound-element"><em>elements</em></a> in the second (and subsequent) sets do not overlap the first set&#8217;s elements by the specified integer or float value.</p>
<p>If that value is an integer, overlap is calculated as a measure of required overlap of bases in the elements&#8217; range components. If that value is a percentage, overlap is calculated as a required minimum fraction of overlap between ranges.</p>
<p>If there are more than two sets specified as input, the second and subsequent sets are first merged into an intermediate set. The first set is then filtered against this intermediate set using the specified overlap threshold.</p>
<p>Because the output set is made up of elements from the first set, those elements should preserve all additional attributes (<a class="reference internal" href="../data/base.html#base-name"><em>Name</em></a>, <a class="reference internal" href="../data/base.html#base-score"><em>Score</em></a>, etc.) where applicable.</p>
<a class="reference internal image-reference" href="../_images/ops_set_exclusive_filter_ab.png"><img alt="../_images/ops_set_exclusive_filter_ab.png" src="../_images/ops_set_exclusive_filter_ab.png" style="width: 99%;" /></a>
</div>
<div class="section" id="complement">
<span id="ops-set-complement"></span><h2>Complement<a class="headerlink" href="#complement" title="Permalink to this headline">¶</a></h2>
<dl class="docutils">
<dt><strong>Input</strong></dt>
<dd>1 or more <a class="reference internal" href="../data/compound.html#compound-element"><em>Element</em></a> <a class="reference internal" href="../data/compound.html#compound-set"><em>Sets</em></a></dd>
<dt><strong>Output</strong></dt>
<dd><a class="reference internal" href="../data/compound.html#compound-element"><em>Element</em></a> <a class="reference internal" href="../data/compound.html#compound-set"><em>Set</em></a></dd>
<dt><strong>CLI example</strong></dt>
<dd><code class="docutils literal"><span class="pre">bedops</span> <span class="pre">--complement</span> <span class="pre">foo1.bed</span> <span class="pre">foo2.bed</span> <span class="pre">...</span> <span class="pre">&gt;</span> <span class="pre">complement.bed</span></code></dd>
</dl>
<p>This filter creates a new <a class="reference internal" href="../data/compound.html#compound-set"><em>set</em></a> of <a class="reference internal" href="../data/compound.html#compound-element"><em>elements</em></a> from gaps between the contiguous <a class="reference internal" href="../data/base.html#base-range"><em>ranges</em></a> defined by one or more input sets.</p>
<p>The complement of one set excludes the start- and end-pieces of a chromosome. To include those ranges, one can calculate the difference operation between the input set and a &#8220;full chromosome&#8221; <a class="reference internal" href="../data/compound.html#compound-element"><em>Element</em></a>, taking the first and last elements of the result. Those two elements would be unioned with the complement of the input set to get the full extents set.</p>
<a class="reference internal image-reference" href="../_images/ops_set_complement.png"><img alt="../_images/ops_set_complement.png" src="../_images/ops_set_complement.png" style="width: 99%;" /></a>
</div>
<div class="section" id="difference">
<span id="ops-set-difference"></span><h2>Difference<a class="headerlink" href="#difference" title="Permalink to this headline">¶</a></h2>
<dl class="docutils">
<dt><strong>Input</strong></dt>
<dd>2 or more <a class="reference internal" href="../data/compound.html#compound-element"><em>Element</em></a> <a class="reference internal" href="../data/compound.html#compound-set"><em>Sets</em></a></dd>
<dt><strong>Output</strong></dt>
<dd><a class="reference internal" href="../data/compound.html#compound-element"><em>Element</em></a> <a class="reference internal" href="../data/compound.html#compound-set"><em>Set</em></a></dd>
<dt><strong>CLI example</strong></dt>
<dd><code class="docutils literal"><span class="pre">bedops</span> <span class="pre">--difference</span> <span class="pre">foo.bed</span> <span class="pre">bar1.bed</span> <span class="pre">bar2.bed</span> <span class="pre">...</span> <span class="pre">&gt;</span> <span class="pre">difference.bed</span></code></dd>
</dl>
<p>This filter creates a new <a class="reference internal" href="../data/compound.html#compound-set"><em>set</em></a> from <a class="reference internal" href="../data/base.html#base-range"><em>ranges</em></a> found in the first input set, excluding overlaps with ranges in the second and subsequent input sets.</p>
<p>Like the <a class="reference internal" href="#ops-set-complement"><em>complement</em></a> operation, this calculates new elements and so <a class="reference internal" href="../data/base.html#base-name"><em>name</em></a> and other attributes of elements in the first set are discarded.</p>
<a class="reference internal image-reference" href="../_images/ops_set_difference.png"><img alt="../_images/ops_set_difference.png" src="../_images/ops_set_difference.png" style="width: 99%;" /></a>
</div>
<div class="section" id="symmetric-difference">
<span id="ops-set-symmdiff"></span><h2>Symmetric difference<a class="headerlink" href="#symmetric-difference" title="Permalink to this headline">¶</a></h2>
<dl class="docutils">
<dt><strong>Input</strong></dt>
<dd>2 or more <a class="reference internal" href="../data/compound.html#compound-element"><em>Element</em></a> <a class="reference internal" href="../data/compound.html#compound-set"><em>Sets</em></a></dd>
<dt><strong>Output</strong></dt>
<dd><a class="reference internal" href="../data/compound.html#compound-element"><em>Element</em></a> <a class="reference internal" href="../data/compound.html#compound-set"><em>Set</em></a></dd>
<dt><strong>CLI example</strong></dt>
<dd><code class="docutils literal"><span class="pre">bedops</span> <span class="pre">--symmdiff</span> <span class="pre">foo.bed</span> <span class="pre">bar.bed</span> <span class="pre">baz.bed</span> <span class="pre">...</span> <span class="pre">&gt;</span> <span class="pre">symmdiff.bed</span></code></dd>
</dl>
<p>This filter creates a new <a class="reference internal" href="../data/compound.html#compound-set"><em>set</em></a> from <a class="reference internal" href="../data/base.html#base-range"><em>ranges</em></a> found in the first input set, excluding overlaps with ranges in the second and subsequent input sets, unionized with ranges found in the second input set, excluding overlaps with ranges in all other input sets, etc.</p>
<p>Like the <a class="reference internal" href="#ops-set-complement"><em>complement</em></a> operation, this calculates new elements and so <a class="reference internal" href="../data/base.html#base-name"><em>name</em></a> and other attributes of elements in all sets are discarded.</p>
<a class="reference internal image-reference" href="../_images/ops_set_symmdiff.png"><img alt="../_images/ops_set_symmdiff.png" src="../_images/ops_set_symmdiff.png" style="width: 99%;" /></a>
</div>
<div class="section" id="partition">
<span id="ops-set-partition"></span><h2>Partition<a class="headerlink" href="#partition" title="Permalink to this headline">¶</a></h2>
<dl class="docutils">
<dt><strong>Input</strong></dt>
<dd>1 or more <a class="reference internal" href="../data/compound.html#compound-element"><em>Element</em></a> <a class="reference internal" href="../data/compound.html#compound-set"><em>Sets</em></a></dd>
<dt><strong>Output</strong></dt>
<dd><a class="reference internal" href="../data/compound.html#compound-element"><em>Element</em></a> <a class="reference internal" href="../data/compound.html#compound-set"><em>Set</em></a></dd>
<dt><strong>CLI example</strong></dt>
<dd><code class="docutils literal"><span class="pre">bedops</span> <span class="pre">--partition</span> <span class="pre">foo.bed</span> <span class="pre">bar.bed</span> <span class="pre">baz.bed</span> <span class="pre">...</span> <span class="pre">&gt;</span> <span class="pre">partition.bed</span></code></dd>
</dl>
<p>This filter creates a new <a class="reference internal" href="../data/compound.html#compound-set"><em>set</em></a> from disjoint ranges computed from all input sets. A partition of one set alone will segment any overlapping elements within that set.</p>
<a class="reference internal image-reference" href="../_images/ops_set_partition.png"><img alt="../_images/ops_set_partition.png" src="../_images/ops_set_partition.png" style="width: 99%;" /></a>
<div class="line-block">
<div class="line"><br /></div>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="../index.html">
              <img class="logo" src="../_static/logo.png" alt="Logo"/>
            </a></p>
  <h3><a href="../index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Set</a><ul>
<li><a class="reference internal" href="#union">Union</a></li>
<li><a class="reference internal" href="#merge">Merge</a></li>
<li><a class="reference internal" href="#inclusive-filter">Inclusive filter</a></li>
<li><a class="reference internal" href="#exclusive-filter">Exclusive filter</a></li>
<li><a class="reference internal" href="#complement">Complement</a></li>
<li><a class="reference internal" href="#difference">Difference</a></li>
<li><a class="reference internal" href="#symmetric-difference">Symmetric difference</a></li>
<li><a class="reference internal" href="#partition">Partition</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="filter.html"
                        title="previous chapter">Filter</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="interaction.html"
                        title="next chapter">Interaction</a></p>
<div class="sourcelink">
  <a href="../_sources/operations/set.txt" rel="nofollow">
    Show page source
  </a>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>

        </div>
      </div>
      <div class="clearer"></div>
    </div>
  <div class="related bottom">
  <nav id="rellinks">
    <ul>
        <li>
          &larr;
          <a href="filter.html" title="Previous document">Filter</a>
        </li>
        <li>
          <a href="interaction.html" title="Next document">Interaction</a>
          &rarr;
        </li>
    </ul>
  </nav>
  <nav id="breadcrumbs">
    <ul>
      <li><a href="../index.html">Home</a></li>
      <li>
        <a href="index.html">Operations</a>
      </li> 
    </ul>
  </nav>
  </div>
  <footer id="pagefooter">&copy; 2015, Alex Reynolds.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a>
      1.3b2
        with the <a href="http://github.com/irskep/sphinx-better-theme">
          better</a> theme.

  </footer>

  
  </body>
</html>